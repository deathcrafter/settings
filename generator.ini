[Rainmeter]
DefaultUpdateDivider=-1

@IncludeVariables=#@#generatorVariables.inc 
@IncludeSkinVariables=#@#skinVariables.inc

[Variables]
FontSize=16
FontFace=Cascadia Code
Padding=25

[PSRM]
Measure=Plugin
Plugin=PowerShellRM
ScriptFile=#@#generator.ps1

[BG]
Meter=Shape
Shape=Rectangle 0,0,600,400,5,5 | Fill Color #BackgroundColor# | StrokeWidth 0

[Center]
StringAlign=Center
X=([BG:W] / 2)
DynamicVariables=1

[Left]
StringAlign=Left
X=[#Padding]
DynamicVariables=1

[Right]
StringAlign=Left
X=([BG:W] - [#Padding] - [[#CURRENTSECTION]:W])
DynamicVariables=1
Y=0r

[TextOptions]
AntiAlias=1
AccurateText=1
FontFace=#FontFace#
FontSize=(#FontSize# * 1)
Y=0R

[Title]
Meter=String
Text=Settings
MeterStyle=TextOptions | Center 
FontSize=(#FontSize# * 1.5)
Y=5

[Subtitle]
Meter=String
Text=a settings skin generator
MeterStyle=TextOptions | Center 

[Description]

[Spacer0]
Meter=Image
W=#FontSize#
H=#FontSize#
SolidColor=0,0,0,0
MeterStyle=TextOptions

[Variable0Name]
Meter=String
Text=Skin: 
MeterStyle=TextOptions | Left 
[Variable0Value]
Meter=String
Text=#Skin#
MeterStyle=TextOptions | Right
SolidColor=0,0,0,1
LeftMouseUpAction=[!CommandMeasure Variable0Input "ExecuteBatch ALL"]
[Variable0Input]
Measure=Plugin
Plugin=InputText
X=([Variable0Value:X])
Y=([Variable0Value:Y])
W=([Variable0Value:W])
H=([Variable0Value:H])
DefaultValue=#Skin#
FontSize=#FontSize#
FontFace=#FontFace#
DynamicVariables=1
Command1=[!WriteKeyValue Variables Skin "$UserInput$" "#@#generatorVariables.inc"]
Command2=[!Refresh]

[Variable1]
Meter=String
Text=Settings file:
MeterStyle=TextOptions | Left 
[Variable1Value]
Meter=String
Text=#SettingsFile#
MeterStyle=TextOptions | Right


[Generate]
Meter=String
Text=Generate
MeterStyle=TextOptions | Center | Title
Y=([BG:H] - [Generate:H] - [#Padding])
LeftMouseUpAction=[!CommandMeasure PSRM Construct]